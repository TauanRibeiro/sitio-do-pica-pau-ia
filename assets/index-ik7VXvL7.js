const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/audioEngine-B1olB8TK.js","assets/audio-BwtH1A1C.js","assets/vendor-C1XDGt3J.js","assets/MemoryGame-DYYu5shr.js","assets/ui-Dn30SOU1.js","assets/MemoryGame-LdIzwz6s.css","assets/index-BKTQQ-Ee.js"])))=>i.map(i=>d[i]);
import{r as c,j as t}from"./ui-Dn30SOU1.js";import{a as ie}from"./vendor-C1XDGt3J.js";(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))b(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const v of h.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&b(v)}).observe(document,{childList:!0,subtree:!0});function p(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function b(m){if(m.ep)return;m.ep=!0;const h=p(m);fetch(m.href,h)}})();var W={},Z;function le(){if(Z)return W;Z=1;var i=ie();return W.createRoot=i.createRoot,W.hydrateRoot=i.hydrateRoot,W}var ce=le();const de="modulepreload",me=function(i){return"/sitio-do-pica-pau-ia/"+i},ee={},B=function(g,p,b){let m=Promise.resolve();if(p&&p.length>0){let j=function(F){return Promise.all(F.map(k=>Promise.resolve(k).then(P=>({status:"fulfilled",value:P}),P=>({status:"rejected",reason:P}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),S=v?.nonce||v?.getAttribute("nonce");m=j(p.map(F=>{if(F=me(F),F in ee)return;ee[F]=!0;const k=F.endsWith(".css"),P=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${F}"]${P}`))return;const D=document.createElement("link");if(D.rel=k?"stylesheet":de,k||(D.as="script"),D.crossOrigin="",D.href=F,S&&D.setAttribute("nonce",S),document.head.appendChild(D),k)return new Promise(($,T)=>{D.addEventListener("load",$),D.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${F}`)))})}))}function h(v){const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=v,window.dispatchEvent(S),!S.defaultPrevented)throw v}return m.then(v=>{for(const S of v||[])S.status==="rejected"&&h(S.reason);return g().catch(h)})};function ue(i){const g=document.querySelector(".achievement-notification");g&&g.remove();const p=document.createElement("div");p.className="achievement-notification",p.innerHTML=`
    <div class="notification-title">üèÜ Conquista Desbloqueada!</div>
    <div class="notification-title">${i.title}</div>
    <div class="notification-desc">${i.description}</div>
  `,document.body.appendChild(p),setTimeout(()=>{p.parentNode&&p.parentNode.removeChild(p)},4e3),te()}async function te(){try{const{getAudioEngine:i}=await B(async()=>{const{getAudioEngine:p}=await import("./audioEngine-B1olB8TK.js");return{getAudioEngine:p}},__vite__mapDeps([0,1,2]));i().playAchievementUnlock()}catch{try{const i=await B(()=>import("./audio-BwtH1A1C.js").then(h=>h.i),__vite__mapDeps([1,2]));await i.start();const g=new i.PolySynth().toDestination(),p=new i.Reverb({decay:1.5,wet:.3}).toDestination();g.connect(p);const b=i.now();["C5","E5","G5","C6"].forEach((h,v)=>{g.triggerAttackRelease(h,"8n",b+v*.1)}),setTimeout(()=>{g.dispose(),p.dispose()},1e3)}catch{}}}function pe(i,g=1,p="increment"){const b=JSON.parse(localStorage.getItem("gameStats")||"{}");switch(p){case"increment":b[i]=(b[i]||0)+g;break;case"set":b[i]=g;break;case"max":b[i]=Math.max(b[i]||0,g);break;case"min":b[i]=Math.min(b[i]||1/0,g);break;case"flag":b[i]=!0;break}return localStorage.setItem("gameStats",JSON.stringify(b)),b}function he(){return JSON.parse(localStorage.getItem("gameStats")||"{}")}window.showAchievementNotification=ue;window.updateStats=pe;window.getStats=he;window.playAchievementSound=te;const fe=c.lazy(()=>B(()=>import("./MemoryGame-DYYu5shr.js"),__vite__mapDeps([3,4,2,5])));function ge(){const[i,g]=c.useState(!1),[p,b]=c.useState(!1),[m,h]=c.useState(!1),[v,S]=c.useState(null),[j,F]=c.useState("home"),[k,P]=c.useState([]),[D,$]=c.useState(null),[T,U]=c.useState(!0),G=c.useRef(null),E=c.useRef(null),V=c.useRef(null),A=c.useRef([]),[ae]=c.useState(new Array(12).fill(4)),[R,re]=c.useState(!1),[H,J]=c.useState([]),[Y,X]=c.useState([]);c.useEffect(()=>{async function e(){try{v&&v.getTracks().forEach(s=>s.stop());const n=D?{video:{deviceId:{exact:D}}}:{video:{facingMode:{ideal:"environment"}}},r=await navigator.mediaDevices.getUserMedia(n);S(r),E.current&&(E.current.srcObject=r,E.current.style.transform=R?"scaleX(-1)":"none");const o=(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput");P(o),!D&&o.length>0&&$(o[0].deviceId)}catch(n){try{const r=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"user"}}});S(r),E.current&&(E.current.srcObject=r);const o=(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput");P(o),!D&&o.length>0&&$(o[0].deviceId)}catch(r){alert("Erro ao acessar a c√¢mera: "+(n?.message||r?.message))}}}return i?e():v&&(v.getTracks().forEach(n=>n.stop()),S(null)),()=>{v&&v.getTracks().forEach(n=>n.stop())}},[i,D,R,v]),c.useEffect(()=>{E.current&&(E.current.style.transform=R?"scaleX(-1)":"none")},[R]),c.useEffect(()=>{j!=="vision"&&(i&&g(!1),p&&b(!1))},[j,i,p]),c.useEffect(()=>{const e=n=>{const r=n?.detail;r==="vision"&&F("vision"),r==="game"&&F("game")};return window.addEventListener("sitio:navigate",e),()=>window.removeEventListener("sitio:navigate",e)},[]);const C=c.useRef(null),[_,oe]=c.useState(!1),[O,Q]=c.useState(!1),K=c.useRef(0);c.useEffect(()=>{if(!T||_)return;const e="/sitio-do-pica-pau-ia/aiWorker.js";C.current=new Worker(e),C.current.onmessage=n=>{const{type:r,embedding:a,norm:o,templateIndex:s,matches:l}=n.data;switch(r){case"AI_READY":oe(!0);break;case"EMBEDDING_READY":s!==void 0&&A.current[s]&&(A.current[s].embedding=a,A.current[s].embeddingNorm=o);break;case"SIMILARITY_READY":if(l&&l.length>0){const u=l.map(I=>I.index);J(u)}else J([]);break}};try{C.current.postMessage({type:"INIT_AI"})}catch{}},[i,T,_]),c.useEffect(()=>{if(!i)return;let e=null,n=0,r=K.current||0;const a=()=>{const o=E.current,s=V.current;if(o&&s){const l=s.getContext("2d"),{videoWidth:u,videoHeight:I}=o;if(u&&I){s.width=480,s.height=Math.round(I/u*480),l.save(),R&&(l.scale(-1,1),l.translate(-s.width,0)),l.drawImage(o,0,0,s.width,s.height),l.restore();try{const f=l.getImageData(Math.max(0,Math.floor(s.width/2-8)),Math.max(0,Math.floor(s.height/2-8)),16,16);let w=0;for(let x=0;x<f.data.length;x+=4)w+=f.data[x]+f.data[x+1]+f.data[x+2];w/(f.data.length/4)/3<40?r=Math.min(r+1,60):r=Math.max(r-1,0),r>12&&!O&&Q(!0),r<6&&O&&Q(!1),K.current=r}catch{}const d=performance.now();if(T&&C.current&&_&&d-n>350){n=d;try{const w=Math.floor((s.width-128)/2),N=Math.floor((s.height-128)/2),x=l.getImageData(w,N,128,128);A.current.length>0&&C.current.postMessage({type:"COMPARE_SIMILARITY",imageData:x,templates:A.current.filter(M=>M.embedding&&M.embeddingNorm)})}catch{}}}}e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>{e&&cancelAnimationFrame(e)}},[i,T,_,R,O]),c.useEffect(()=>{const e={ctxStarted:!1,Tone:null,Soundfont:null,parts:{},tempo:85,key:"G",scale:["G","A","B","C","D","E","F#"],state:"exploration",loop:null,melodyPart:null,percussionPart:null,victoryPart:null,sf:{viola:null,flauta:null,harmonica:null},setup:async()=>{if(e.Tone||(e.Tone=await B(()=>import("./audio-BwtH1A1C.js").then(l=>l.i),__vite__mapDeps([1,2]))),!e.Soundfont)try{const l=await B(()=>import("./index-BKTQQ-Ee.js").then(u=>u.i),__vite__mapDeps([6,2,1]));e.Soundfont=l.default}catch{}if(!e.ctxStarted){try{await e.Tone.start()}catch{}e.ctxStarted=!0}const n=new e.Tone.Filter({frequency:3e3,type:"lowpass",rolloff:-12}).toDestination(),r=new e.Tone.EQ3({low:4,mid:3,high:-1}).connect(n),a=new e.Tone.Compressor({threshold:-18,ratio:3,attack:.1,release:.8}).connect(r);e.parts.viola=new e.Tone.PolySynth(e.Tone.Synth,{oscillator:{type:"triangle",modulationType:"sine",modulationFrequency:.2},envelope:{attack:.02,decay:.4,sustain:.6,release:1.5},filter:{frequency:1500,rolloff:-12}}).connect(a),e.parts.viola.volume.value=-10,e.parts.baixo=new e.Tone.MonoSynth({oscillator:{type:"triangle"},filter:{Q:2,type:"lowpass",rolloff:-24,frequency:250},envelope:{attack:.08,decay:.6,sustain:.4,release:2}}).connect(a),e.parts.baixo.volume.value=-8,e.parts.pandeiro=new e.Tone.NoiseSynth({noise:{type:"pink"},envelope:{attack:.005,decay:.08,sustain:0,release:.03},filter:{frequency:600,rolloff:-12}}).connect(a),e.parts.pandeiro.volume.value=-20,e.parts.triangulo=new e.Tone.MetalSynth({frequency:400,envelope:{attack:.001,decay:.15,sustain:0,release:.4},harmonicity:8,modulationIndex:12,resonance:1200}).connect(a),e.parts.triangulo.volume.value=-24,e.parts.flauta=new e.Tone.Synth({oscillator:{type:"sine",modulationType:"sine",modulationFrequency:.5},envelope:{attack:.1,decay:.3,sustain:.8,release:1.2},filter:{frequency:2200,rolloff:-6}}).connect(a),e.parts.flauta.volume.value=-12;try{const l=e.Tone.getContext().rawContext;e.Soundfont&&(e.sf.viola=await e.Soundfont.instrument(l,"acoustic_guitar_nylon"),e.sf.flauta=await e.Soundfont.instrument(l,"flute"),e.sf.harmonica=await e.Soundfont.instrument(l,"harmonica"),e.sf.accordion=await e.Soundfont.instrument(l,"accordion"),e.sf.violao=await e.Soundfont.instrument(l,"acoustic_guitar_steel"))}catch{console.log("üéµ Timbres do S√≠tio: usando sintetizadores como fallback")}const o=new e.Tone.Reverb({roomSize:.6,dampening:3e3,wet:.15}).connect(a),s=new e.Tone.FeedbackDelay({delayTime:"8n",feedback:.2,wet:.08}).connect(o);e.parts.flauta.connect(s),e.parts.viola.connect(o),e.Tone.Transport.bpm.value=e.tempo},pickState:(n,r={})=>{const a={exploration:{tempo:[80,88],layers:["viola","baixo"],progression:["I","vi","IV","V"],feel:"toada",swing:.1},puzzle:{tempo:[75,82],layers:["viola","baixo","flauta"],progression:["I","V/vi","vi","IV"],feel:"moda",swing:.05},action:{tempo:[88,96],layers:["viola","baixo","pandeiro","triangulo"],progression:["I","bVII","IV","I"],feel:"baiao",swing:.15},victory:{tempo:[95,105],layers:["viola","baixo","pandeiro","triangulo","flauta"],progression:["I","V","vi","IV","I","V","I"],feel:"festa",swing:.2},tension:{tempo:[70,75],layers:["viola"],progression:["vi","V/vi","vi"],feel:"suspense",swing:.02},reset:{tempo:[78,85],layers:["flauta","baixo"],progression:["I","vi","IV","V"],feel:"renovacao",swing:.08}},o=a[n]||a.exploration;if(r.difficulty)switch(r.difficulty){case"hard":o.tempo=[o.tempo[0]+8,o.tempo[1]+12],o.layers.length<4&&o.layers.push("triangulo");break;case"medium":o.tempo=[o.tempo[0]+3,o.tempo[1]+5];break}if(r.streak){const s=Math.min(r.streak*2,15);o.tempo=[o.tempo[0]+s,o.tempo[1]+s]}return e.state=n,e.tempo=Math.round((o.tempo[0]+o.tempo[1])/2),e.Tone.Transport.bpm.rampTo(e.tempo,n==="victory"?2:1),e.Tone.Transport.swing=o.swing,o},note:(n,r=3)=>{const a=e.scale,s={1:0,2:1,3:2,4:3,5:4,6:5,7:6}[n]??0;return`${a[s]}${r}`},chord:(n,r=4)=>({I:[1,3,5],vi:[6,1,3],IV:[4,6,1],V:[5,7,2],"V/vi":[2,4,6],bVII:[7,2,4],II7:[2,4,6,1],V7:[5,7,2,4],VI7:[6,1,3,5]}[n]||[1,3,5]).map(s=>e.note((s-1)%7+1,r)),start:async(n="exploration",r={})=>{await e.setup();const a=e.pickState(n,r);e.loop&&(e.loop.dispose(),e.loop=null),e.percussionPart&&(e.percussionPart.dispose(),e.percussionPart=null),e.victoryPart&&(e.victoryPart.dispose(),e.victoryPart=null);let o=0;e.loop=new e.Tone.Loop(s=>{const l=o%a.progression.length,u=e.chord(a.progression[l],4),I=u[0].replace(/\d+$/,"2");if(a.layers.includes("viola")&&(a.feel==="baiao"?[0,.75,1.5,2,2.75,3.5]:[0,.5,1,1.5,2.5,3,3.5]).forEach((y,f)=>{const w=s+y,N=Math.floor(y/2)%u.length,x=u[N],M=f%2===0,q=M?.5:.3,L=M?0:.02;let z=q;a.feel==="festa"&&(z*=1.3),a.feel==="suspense"&&(z*=.4),e.sf.viola?e.sf.viola.play(x,e.Tone.now()+y+L,{duration:a.feel==="moda"?.4:.25,gain:z+Math.sin(o*.5)*.05}):e.parts.viola.triggerAttackRelease(x,"8n",w+L)}),a.layers.includes("baixo")){let d;switch(a.feel){case"baiao":case"festa":d=[{beat:0,note:I,duration:"4n"},{beat:1,note:u[2].replace(/\d+$/,"2"),duration:"8n"},{beat:2.5,note:I,duration:"8n"},{beat:3.5,note:u[1].replace(/\d+$/,"2"),duration:"8n"}],a.feel==="festa"&&d.push({beat:1.5,note:u[1].replace(/\d+$/,"2"),duration:"16n"});break;case"moda":d=[{beat:0,note:I,duration:"2n"},{beat:2,note:u[2].replace(/\d+$/,"2"),duration:"4n"}];break;case"suspense":d=[{beat:0,note:I,duration:"1n"}];break;case"renovacao":d=[{beat:0,note:I,duration:"2n."},{beat:3,note:u[2].replace(/\d+$/,"2"),duration:"4n"}];break;default:d=[{beat:0,note:I,duration:"4n"},{beat:2,note:I,duration:"4n"}]}d.forEach(({beat:y,note:f,duration:w})=>{const N=y%1!==0?.03:0;e.parts.baixo.triggerAttackRelease(f,w,s+y+N)})}if(a.layers.includes("pandeiro")){let d=[0,.75,1.25,2,2.75,3.5];a.feel==="festa"&&(d=[0,.5,.75,1,1.25,1.5,2,2.25,2.5,2.75,3,3.25,3.5,3.75]),d.forEach(y=>{const f=y%2===0?.6:.3,w=a.feel==="festa"?f*1.4:f;e.parts.pandeiro.triggerAttackRelease("16n",s+y),e.parts.pandeiro.volume.rampTo(-20+w*4,.01)})}if(a.layers.includes("triangulo")){let d=[.5,1.5,2.5,3.5];a.feel==="festa"&&(d=[.25,.5,.75,1.25,1.5,1.75,2.25,2.5,2.75,3.25,3.5,3.75]),d.forEach(y=>{const f=a.feel==="festa"?["C6","D6","E6"][Math.floor(Math.random()*3)]:"C6";e.parts.triangulo.triggerAttackRelease(f,"32n",s+y)})}if(a.layers.includes("flauta")){let d=o%2===0;a.feel==="festa"&&(d=!0),a.feel==="suspense"&&(d=o%4===0),a.feel==="renovacao"&&(d=o%3===0),d&&u.slice(0,3).forEach((f,w)=>{const N=s+w*.5;let x=f.replace(/\d+$/,"5");a.feel==="festa"&&Math.random()>.5&&(x=f.replace(/\d+$/,"6")),a.feel==="suspense"&&(x=f.replace(/\d+$/,"4"));const M=a.feel==="festa"?.5:a.feel==="suspense"?.2:.35;e.sf.flauta?e.sf.flauta.play(x,e.Tone.now()+w*.5,{duration:.8,gain:M}):e.parts.flauta.triggerAttackRelease(x,"2n",N)})}o++},"1m"),e.loop.start(0),e.Tone.Transport.start()},playVictoryMelody:()=>{e.victoryPart&&(e.victoryPart.dispose(),e.victoryPart=null);const n=[1,1,2,1,4,3,1,1,2,1,5,4,1,1,8,6,4,3,2,7,7,6,4,5,4];e.victoryPart=new e.Tone.Part((r,a)=>{const o=e.note(a.deg,5),s=[e.note(a.deg,4),e.note((a.deg+1)%7+1,4),e.note((a.deg+3)%7+1,4)];e.sf.flauta?e.sf.flauta.play(o,r,{duration:.6,gain:.6}):e.parts.flauta.triggerAttackRelease(o,"4n",r),e.sf.viola&&s.forEach((l,u)=>{e.sf.viola.play(l,r+u*.02,{duration:.4,gain:.3})})},n.map((r,a)=>({time:`0:${Math.floor(a*.75)}:${a%2*2}`,deg:r}))),e.victoryPart.start("+0.5m"),e.victoryPart.stop("+8m")},playMelodyMotif:()=>{const n=[1,3,5,6,5,3,2,1,4,5,6,5,3,2,1],r=["4n","8n","4n","8n","4n","8n","8n","4n","8n","8n","4n","8n","4n","8n","2n"];e.melodyPart&&(e.melodyPart.dispose(),e.melodyPart=null);let a=0;const o=[{transpose:0,octave:5,instrument:"flauta"},{transpose:2,octave:4,instrument:"viola"},{transpose:5,octave:5,instrument:"harmonica"},{transpose:0,octave:6,instrument:"flauta"}];e.melodyPart=new e.Tone.Part((l,u)=>{const{deg:I,dur:d,off:y,beatIndex:f}=u,w=o[a%o.length],N=(I+w.transpose-1)%7+1,x=e.note(N,w.octave),M=l+(y||0),q=f%4===0?1.2:f%2===1?.8:1,L=e.state==="action"?.05:.02;w.instrument==="flauta"&&e.sf.flauta?e.sf.flauta.play(x,e.Tone.now()+(y||0)+L,{duration:d==="2n"?1.5:d==="4n"?.6:.3,gain:.5*q}):w.instrument==="harmonica"&&e.sf.harmonica?e.sf.harmonica.play(x,e.Tone.now()+(y||0)+L,{duration:d==="2n"?1.2:d==="4n"?.5:.25,gain:.4*q}):w.instrument==="viola"&&e.sf.viola?e.sf.viola.play(x,e.Tone.now()+(y||0)+L,{duration:d==="2n"?.8:d==="4n"?.4:.2,gain:.45*q}):e.parts.flauta.triggerAttackRelease(x,d,M+L)},n.map((l,u)=>({time:`0:${Math.floor(u*.5)}:${u%2*2}`,deg:l,dur:r[u]||"8n",off:0,beatIndex:u}))),e.melodyPart.loop=!0,e.melodyPart.loopEnd="8m",e.melodyPart.start("+1m"),new e.Tone.Loop(()=>{if(a++,a%4===0){const l=e.Tone.Transport.bpm.value,u=2+Math.sin(a*.3)*3;e.Tone.Transport.bpm.rampTo(l+u,2)}},"8m").start("+1m")},stop:()=>{if(e.loop&&(e.loop.stop(),e.loop.dispose(),e.loop=null),e.melodyPart&&(e.melodyPart.stop(),e.melodyPart.dispose(),e.melodyPart=null),e.percussionPart&&(e.percussionPart.stop(),e.percussionPart.dispose(),e.percussionPart=null),e.victoryPart&&(e.victoryPart.stop(),e.victoryPart.dispose(),e.victoryPart=null),e.Tone){e.Tone.Transport.swing=0;try{e.Tone.Transport.stop()}catch{}}}};return G.current=e,window.sitioMusicEngine=e,()=>{e.stop()}},[]),c.useEffect(()=>{const e=G.current;e&&(m?(async()=>(await e.start("exploration"),e.playMelodyMotif()))():e.stop())},[m]);function ne(){if(!V.current)return;const e=V.current.getContext("2d"),n=80,r=80,a=Math.floor((V.current.width-n)/2),o=Math.floor((V.current.height-r)/2),s=e.getImageData(a,o,n,r),l={data:s.data,width:n,height:r,timestamp:Date.now()};T&&C.current&&_&&C.current.postMessage({type:"EXTRACT_EMBEDDING",imageData:s,templateIndex:A.current.length}),A.current.push(l),window.updateStats&&(window.updateStats("templatesCaptured",1),window.updateStats("usedAI",!0,"flag")),alert("Template capturado! Agora a detec√ß√£o usa esse padr√£o.")}function se(){if(!E.current)return;const e=E.current,n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;const r=n.getContext("2d");R&&(r.scale(-1,1),r.translate(-n.width,0)),r.drawImage(e,0,0);const a=r.getImageData(0,0,n.width,n.height);T&&C.current&&_&&C.current.postMessage({type:"EXTRACT_EMBEDDING",imageData:a});const o={image:n.toDataURL(),timestamp:Date.now()};X(s=>[o,...s].slice(0,5)),window.updateStats&&(window.updateStats("photosTaken",1),window.updateStats("usedCamera",!0,"flag"))}return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[var(--theme-background,#FFF8DC)] via-[var(--theme-background,#FFF8DC)] to-[var(--theme-secondary,#8B4513)]/10 font-sans antialiased",children:[t.jsx("div",{className:"fixed inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cpath d=%22M10 10h80v80H10z%22 fill=%22none%22 stroke=%22%23FFD700%22 stroke-width=%220.5%22 opacity=%220.1%22/%3E%3C/svg%3E')] pointer-events-none"}),j!=="game"&&t.jsx("header",{className:"sticky top-0 z-50 bg-gradient-to-r from-[var(--theme-primary,#FFD700)]/20 via-[var(--theme-secondary,#8B4513)]/20 to-[var(--theme-accent,#FF4500)]/20 backdrop-blur-lg border-b border-[var(--theme-primary,#FFD700)]/30",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-[var(--theme-primary,#FFD700)] to-[var(--theme-accent,#FF4500)] shadow-lg ring-2 ring-white/20 grid place-items-center text-2xl",children:"üè°"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-[var(--theme-primary,#FFD700)] to-[var(--theme-accent,#FF4500)] bg-clip-text text-transparent drop-shadow-sm",children:"S√≠tio do Pica-Pau IA"}),t.jsx("p",{className:"text-sm sm:text-base text-[var(--theme-text,#2F4F2F)]/80 font-semibold",children:"Jogo de mem√≥ria com m√∫sica e vis√£o computacional"})]})]}),t.jsxs("nav",{className:"hidden sm:flex items-center gap-3",children:[t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-bold text-sm transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[var(--theme-primary,#FFD700)]/50 ${j==="home"?"bg-[var(--theme-primary,#FFD700)] text-[var(--theme-text,#2F4F2F)] shadow-lg":"bg-white/10 text-[var(--theme-text,#2F4F2F)] hover:bg-white/20"}`,onClick:()=>F("home"),children:"üè† In√≠cio"}),t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-bold text-sm transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[var(--theme-primary,#FFD700)]/50 ${j==="game"?"bg-[var(--theme-primary,#FFD700)] text-[var(--theme-text,#2F4F2F)] shadow-lg":"bg-white/10 text-[var(--theme-text,#2F4F2F)] hover:bg-white/20"}`,onClick:()=>F("game"),children:"üéÆ Jogo"}),t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-bold text-sm transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[var(--theme-primary,#FFD700)]/50 ${j==="vision"?"bg-[var(--theme-primary,#FFD700)] text-[var(--theme-text,#2F4F2F)] shadow-lg":"bg-white/10 text-[var(--theme-text,#2F4F2F)] hover:bg-white/20"}`,onClick:()=>F("vision"),children:"üì∑ C√¢mera"}),j!=="game"&&t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-bold text-sm transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[var(--theme-primary,#FFD700)]/50 ${m?"bg-red-500 text-white shadow-lg animate-pulse":"bg-[var(--theme-secondary,#8B4513)] text-white hover:brightness-110"}`,onClick:()=>h(!m),children:m?"üîá Pausar":"üéµ M√∫sica"})]})]})})}),j==="home"&&t.jsxs("section",{className:"relative isolate",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-[var(--theme-primary,#FFD700)]/20 via-[var(--theme-secondary,#8B4513)]/10 to-[var(--theme-accent,#FF4500)]/20"}),t.jsx("div",{className:"mx-auto max-w-6xl px-4 py-8 sm:py-12",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-[var(--theme-text,#2F4F2F)] leading-tight",children:"Mem√≥ria do S√≠tio com trilha din√¢mica"}),t.jsx("p",{className:"mt-3 text-[var(--theme-text,#2F4F2F)]/85 text-base sm:text-lg",children:"Descubra pares, ou√ßa efeitos sonoros e ative a trilha procedural com motivos leves. Funciona no celular e no desktop."}),t.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[t.jsx("button",{className:"px-5 py-3 rounded-2xl bg-gradient-to-r from-[var(--theme-primary,#FFD700)] to-[var(--theme-accent,#FF4500)] text-[var(--theme-text,#2F4F2F)] font-bold shadow-lg transform hover:scale-105 transition-all focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50",onClick:()=>F("game"),children:"üéÆ Jogar agora"}),t.jsx("button",{className:"px-5 py-3 rounded-2xl bg-white/10 backdrop-blur-sm text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-white/20 border border-[var(--theme-primary,#FFD700)]/30 transition-all focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50",onClick:()=>F("vision"),children:"üì∑ Modo c√¢mera"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"rounded-3xl p-6 bg-gradient-to-br from-[var(--theme-primary,#FFD700)]/20 to-[var(--theme-secondary,#8B4513)]/20 backdrop-blur-md shadow-2xl ring-1 ring-[var(--theme-primary,#FFD700)]/30",children:[t.jsx("div",{className:"text-center text-6xl mb-4 animate-bounce",children:"üé©"}),t.jsx("p",{className:"text-sm text-[var(--theme-text,#2F4F2F)]/80 text-center font-semibold",children:"Jogue, aprenda e divirta-se com os personagens do S√≠tio!"})]}),t.jsx("div",{className:"absolute -top-4 -right-4 w-16 h-16 rounded-full bg-[var(--theme-accent,#FF4500)] shadow-lg grid place-items-center text-2xl animate-bounce",children:"‚≠ê"}),t.jsx("div",{className:"absolute -bottom-4 -left-4 w-12 h-12 rounded-full bg-[var(--theme-secondary,#8B4513)] shadow-lg grid place-items-center text-xl animate-pulse",children:"üéµ"})]})]})})]}),j==="vision"&&t.jsx("div",{className:"mx-auto max-w-5xl px-4 py-4 bg-white/30 rounded-2xl backdrop-blur-md border border-[var(--theme-primary,#FFD700)]/30 mb-4",children:t.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-semibold transition-all ${i?"bg-red-500 text-white shadow-lg":"bg-[var(--theme-primary,#FFD700)] text-[var(--theme-text,#2F4F2F)] hover:brightness-110"} focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50`,onClick:()=>g(!i),children:i?"üì∑ Desligar C√¢mera":"üì∑ Ligar C√¢mera"}),t.jsx("button",{className:"px-4 py-2.5 rounded-xl bg-white/10 backdrop-blur-sm text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-white/20 border border-[var(--theme-primary,#FFD700)]/30 transition-all focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50",onClick:()=>re(e=>!e),children:R?"üîÑ Desespelhar":"üîÑ Espelhar"}),t.jsxs("button",{className:"px-4 py-2.5 rounded-xl bg-white/10 backdrop-blur-sm text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-white/20 disabled:opacity-40 border border-[var(--theme-primary,#FFD700)]/30 transition-all focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50",disabled:!i||k.length<2,onClick:()=>{if(k.length===0)return;const n=(k.findIndex(r=>r.deviceId===D)+1)%k.length;$(k[n].deviceId)},children:["üìπ Trocar C√¢mera ",k.length>0?`(${k.findIndex(e=>e.deviceId===D)+1}/${k.length})`:""]}),t.jsx("button",{className:`px-4 py-2.5 rounded-xl font-semibold transition-all ${p?"bg-red-500 text-white shadow-lg animate-pulse":"bg-[var(--theme-secondary,#8B4513)] text-white hover:brightness-110"} focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50`,onClick:()=>b(!p),children:p?"üé§ Desligar Microfone":"üé§ Ligar Microfone"}),t.jsx("button",{className:"px-4 py-2.5 rounded-xl bg-white/10 backdrop-blur-sm text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-white/20 border border-[var(--theme-primary,#FFD700)]/30 transition-all focus:outline-none focus-visible:ring-2 ring-[var(--theme-primary,#FFD700)]/50",onClick:()=>U(e=>!e),children:T?"ü§ñ Desativar IA":"ü§ñ Ativar IA"}),t.jsx("div",{className:"flex items-end gap-1 ml-auto bg-[var(--theme-secondary,#8B4513)]/20 rounded-lg px-3 py-2",children:ae.map((e,n)=>t.jsx("div",{className:"w-1.5 bg-gradient-to-t from-[var(--theme-primary,#FFD700)] to-[var(--theme-accent,#FF4500)] rounded-t shadow-sm",style:{height:`${e}px`}},n))})]})}),t.jsxs("div",{className:"mx-auto max-w-5xl px-4 pb-12",children:[j==="game"&&t.jsx("div",{className:"memory-game",children:t.jsx(c.Suspense,{fallback:t.jsx("p",{children:"Carregando jogo..."}),children:t.jsx(fe,{musicPlaying:m,setMusicPlaying:h})})}),j==="vision"&&(i?t.jsxs("div",{className:"camera-view mx-auto max-w-3xl bg-white/30 backdrop-blur-md border border-[var(--theme-primary,#FFD700)]/30 rounded-2xl p-4 shadow-xl",children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,width:480,height:360,style:{borderRadius:"1rem",boxShadow:"0 2px 12px rgba(0,0,0,0.25)",marginBottom:"0.5rem"}}),t.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:220,height:160,border:"3px dashed rgba(255,215,0,0.7)",borderRadius:"12px",pointerEvents:"none"}})]}),t.jsx("canvas",{ref:V,width:480,height:360,style:{display:"block",margin:"0.5rem auto",borderRadius:"0.5rem"}}),t.jsx("div",{id:"lowLightHint",style:{display:"none"}}),O&&t.jsx("div",{style:{background:"#FFD700",color:"#000",border:"3px solid #000",borderRadius:"10px",padding:"0.5rem 0.75rem",fontWeight:900,textAlign:"center",margin:"0.5rem auto"},children:"üí° Est√° um pouco escuro. Aproxime a carta e use um ambiente mais iluminado."}),t.jsxs("div",{style:{display:"flex",gap:".5rem",justifyContent:"center",flexWrap:"wrap"},children:[t.jsx("button",{onClick:ne,className:"small-btn",children:"Capturar Template"}),t.jsx("button",{onClick:se,className:"small-btn",children:"Tirar Foto"}),t.jsx("button",{onClick:()=>{A.current=[],X([]),alert("Templates e fotos limpos")},className:"small-btn",children:"Limpar Tudo"}),t.jsx("a",{href:"./printable-cards.html",target:"_blank",rel:"noopener",className:"small-btn",children:"üìÑ Cartas imprim√≠veis"})]}),t.jsxs("p",{style:{fontWeight:700,textShadow:"0 2px 6px rgba(0,0,0,.35)"},children:["Cartas detectadas: ",H.length>0?H.join(", "):"Nenhuma"," | AI: ",_?"Pronto ‚úÖ":"Carregando ‚è≥"]}),Y.length>0&&t.jsxs("div",{style:{marginTop:"1rem"},children:[t.jsx("h4",{style:{fontWeight:700,textShadow:"0 2px 6px rgba(0,0,0,.35)"},children:"√öltimas Fotos:"}),t.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:Y.map((e,n)=>t.jsx("img",{src:e.image,alt:`Snapshot ${n+1}`,style:{width:"80px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}},e.timestamp))})]})]}):t.jsx("div",{className:"camera-placeholder text-center mx-auto max-w-3xl bg-white/30 backdrop-blur-md border border-[var(--theme-primary,#FFD700)]/30 rounded-2xl p-10 shadow-xl",children:t.jsx("p",{className:"font-extrabold text-[var(--theme-text,#2F4F2F)]",children:'Clique em "Ligar C√¢mera" para come√ßar!'})}))]}),j!=="game"&&t.jsx("section",{className:"relative mt-8 mb-8",children:t.jsx("div",{className:"mx-auto max-w-6xl px-4",children:t.jsxs("div",{className:"bg-gradient-to-br from-[var(--theme-primary,#FFD700)]/10 to-[var(--theme-secondary,#8B4513)]/10 backdrop-blur-md rounded-3xl border border-[var(--theme-primary,#FFD700)]/20 p-6 shadow-xl",children:[t.jsx("h3",{className:"text-2xl font-bold text-[var(--theme-text,#2F4F2F)] text-center mb-4",children:"üéõÔ∏è Controles Avan√ßados"}),t.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[t.jsx("button",{className:"px-4 py-2 rounded-xl bg-[var(--theme-primary,#FFD700)] text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-[var(--theme-accent,#FF4500)] transition-all",onClick:()=>h(e=>!e),children:m?"üîá Parar M√∫sica":"üéµ Iniciar M√∫sica"}),t.jsx("button",{className:"px-4 py-2 rounded-xl bg-[var(--theme-secondary,#8B4513)] text-white font-semibold hover:bg-[var(--theme-accent,#FF4500)] transition-all",onClick:()=>U(e=>!e),children:T?"ü§ñ IA Ativada":"üîß IA Desativada"}),t.jsx("button",{className:"px-4 py-2 rounded-xl bg-white/20 backdrop-blur-sm text-[var(--theme-text,#2F4F2F)] font-semibold hover:bg-white/30 border border-[var(--theme-primary,#FFD700)]/30 transition-all",onClick:()=>alert("Funcionalidades em desenvolvimento!"),children:"‚öôÔ∏è Configura√ß√µes"})]})]})})}),j!=="game"&&t.jsx("footer",{className:"relative mt-2 border-t border-[var(--theme-primary,#FFD700)]/30",children:t.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6 text-[var(--theme-text,#2F4F2F)] text-sm flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("span",{className:"inline-flex items-center gap-2 font-extrabold text-[var(--theme-text,#2F4F2F)] text-with-bg",children:[t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[var(--theme-primary,#FFD700)] shadow-sm"})," üë©‚Äçüé® Malie ‚Ä¢ ‚ö° Tauan ‚Ä¢ üßô‚Äç‚ôÄÔ∏è Carla ‚Ä¢ üëµ Vov√≥ Jane"]}),t.jsx("span",{className:"font-extrabold text-with-bg",children:"üè´ Projeto para Feira de Ci√™ncias - Col√©gio Meta, Sobradinho-DF"})]})})]})}ce.createRoot(document.getElementById("root")).render(t.jsx(c.StrictMode,{children:t.jsx(ge,{})}));
