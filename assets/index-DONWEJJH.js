const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/audioEngine-Y-b7DyxI.js","assets/audio-C2OqAgDD.js","assets/MemoryGame-DZHHeQ61.js","assets/ui-BXnLsADb.js","assets/vendor-BdZgHC1P.js","assets/MemoryGame-CImWb8O6.css"])))=>i.map(i=>d[i]);
import{r as s,j as e,m as b,A as K}from"./ui-BXnLsADb.js";import{a as B}from"./vendor-BdZgHC1P.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=i(o);fetch(o.href,d)}})();var N={},R;function Q(){if(R)return N;R=1;var a=B();return N.createRoot=a.createRoot,N.hydrateRoot=a.hydrateRoot,N}var X=Q();const Y="modulepreload",Z=function(a){return"/sitio-do-pica-pau-ia/"+a},M={},A=function(t,i,r){let o=Promise.resolve();if(i&&i.length>0){let g=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),n=m?.nonce||m?.getAttribute("nonce");o=g(i.map(u=>{if(u=Z(u),u in M)return;M[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":Y,f||(x.as="script"),x.crossOrigin="",x.href=u,n&&x.setAttribute("nonce",n),document.head.appendChild(x),f)return new Promise((D,T)=>{x.addEventListener("load",D),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})}))}function d(m){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=m,window.dispatchEvent(n),!n.defaultPrevented)throw m}return o.then(m=>{for(const n of m||[])n.status==="rejected"&&d(n.reason);return t().catch(d)})};function ee(a){const t=document.querySelector(".achievement-notification");t&&t.remove();const i=document.createElement("div");i.className="achievement-notification",i.innerHTML=`
    <div class="notification-title">ğŸ† Conquista Desbloqueada!</div>
    <div class="notification-title">${a.title}</div>
    <div class="notification-desc">${a.description}</div>
  `,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},4e3),F()}async function F(){try{const{getAudioEngine:a}=await A(async()=>{const{getAudioEngine:i}=await import("./audioEngine-Y-b7DyxI.js");return{getAudioEngine:i}},__vite__mapDeps([0,1]));a().playAchievementUnlock()}catch{try{const a=await A(()=>import("./audio-C2OqAgDD.js"),[]);await a.start();const t=new a.PolySynth().toDestination(),i=new a.Reverb({decay:1.5,wet:.3}).toDestination();t.connect(i);const r=a.now();["C5","E5","G5","C6"].forEach((d,m)=>{t.triggerAttackRelease(d,"8n",r+m*.1)}),setTimeout(()=>{t.dispose(),i.dispose()},1e3)}catch{}}}function te(a,t=1,i="increment"){const r=JSON.parse(localStorage.getItem("gameStats")||"{}");switch(i){case"increment":r[a]=(r[a]||0)+t;break;case"set":r[a]=t;break;case"max":r[a]=Math.max(r[a]||0,t);break;case"min":r[a]=Math.min(r[a]||1/0,t);break;case"flag":r[a]=!0;break}return localStorage.setItem("gameStats",JSON.stringify(r)),r}function ae(){return JSON.parse(localStorage.getItem("gameStats")||"{}")}window.showAchievementNotification=ee;window.updateStats=te;window.getStats=ae;window.playAchievementSound=F;const _="siteTheme";function se(){return typeof window>"u"||!window.matchMedia?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function L(){try{const a=localStorage.getItem(_);if(a==="light"||a==="dark")return a}catch{}return se()}function O(a){document.documentElement.setAttribute("data-theme",a);try{localStorage.setItem(_,a)}catch{}}function ie(){const t=(document.documentElement.getAttribute("data-theme")||L())==="dark"?"light":"dark";return O(t),t}const $=s.createContext(null);function re({children:a}){const[t,i]=s.useState(null),r=s.useCallback(()=>i(null),[]),o=s.useCallback(n=>new Promise(g=>{i({type:"alert",resolve:g,...n})}),[]),d=s.useCallback(n=>new Promise(g=>{i({type:"confirm",resolve:g,...n})}),[]);s.useEffect(()=>{const n=g=>{if(t&&g.key==="Escape")if(t.type==="confirm"){try{t.resolve(!1)}catch{}r()}else{try{t.resolve()}catch{}r()}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,r]);const m={alert:o,confirm:d};return e.jsxs($.Provider,{value:m,children:[a,t&&e.jsxs("div",{className:"dialog-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title",children:[e.jsx("div",{className:"dialog-backdrop",onClick:()=>{try{t.type==="confirm"?t.resolve(!1):t.resolve()}catch{}r()}}),e.jsxs("div",{className:"dialog-modal",onClick:n=>n.stopPropagation(),children:[t.icon&&e.jsx("div",{className:"dialog-icon","aria-hidden":!0,children:t.icon}),e.jsx("h3",{id:"dialog-title",className:"dialog-title",children:t.title||(t.type==="confirm"?"Confirmar":"Aviso")}),t.message&&e.jsx("div",{className:"dialog-message",children:t.message}),t.type==="confirm"?e.jsxs("div",{className:"dialog-actions",children:[e.jsx("button",{className:"btn glass",onClick:()=>{try{t.resolve(!1)}catch{}r()},children:t.cancelText||"Cancelar"}),e.jsx("button",{className:"btn primary",onClick:()=>{try{t.resolve(!0)}catch{}r()},children:t.okText||"Confirmar"})]}):e.jsx("div",{className:"dialog-actions",children:e.jsx("button",{className:"btn primary",onClick:()=>{try{t.resolve()}catch{}r()},children:t.okText||"OK"})})]})]})]})}function oe(){const a=s.useContext($);if(!a)throw new Error("useDialog must be used within a DialogProvider");return a}const ne=s.lazy(()=>A(()=>import("./MemoryGame-DZHHeQ61.js"),__vite__mapDeps([2,3,4,5])));function le({theme:a,setTheme:t}){const i=a==="light"?"dark":"light";return e.jsxs("button",{type:"button",onClick:()=>t(ie()),className:"relative grid place-items-center w-12 h-12 rounded-full glass hover:glass-elevated transition-all focus:outline-none focus-visible:ring-2 ring-[var(--accent)]/50","aria-label":`Mudar para tema ${i}`,children:[e.jsx("span",{className:`absolute transition-transform duration-500 ${a==="dark"?"rotate-0 scale-100":"-rotate-90 scale-0"}`,children:"ğŸŒ™"}),e.jsx("span",{className:`absolute transition-transform duration-500 ${a==="light"?"rotate-0 scale-100":"rotate-90 scale-0"}`,children:"â˜€ï¸"})]})}function ce({isOn:a,onToggle:t,disabled:i=!1,labelOn:r="Pausar mÃºsica",labelOff:o="Tocar mÃºsica"}){return e.jsxs("button",{type:"button","aria-pressed":a,"aria-label":a?r:o,disabled:i,onClick:t,className:`relative grid place-items-center w-12 h-12 rounded-full transition-all focus:outline-none focus-visible:ring-2 ring-[var(--accent)]/50 shadow-md ${a?"bg-[var(--secondary)] text-white":"glass text-[var(--fg)] hover:glass-elevated"} ${i?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[e.jsx("span",{className:"text-lg",children:a?"ğŸ”Š":"ğŸµ"}),a&&e.jsx("span",{className:"absolute inset-0 rounded-full animate-ping bg-[var(--secondary)]/25","aria-hidden":!0})]})}function de(){const{alert:a}=oe(),[t,i]=s.useState(!1),[r,o]=s.useState(!1),[d,m]=s.useState(!1),[n,g]=s.useState(null),[u,f]=s.useState("home"),[p,x]=s.useState(L()),[D,T]=s.useState(()=>localStorage.getItem("memoryDifficulty")||"easy"),[me,q]=s.useState([]),[j,z]=s.useState(null),[ue,he]=s.useState(!0),y=s.useRef(null),S=s.useRef(null),P=s.useRef([]),[ge]=s.useState(new Array(12).fill(4)),[w,H]=s.useState(!1),[I,xe]=s.useState([]),[fe,U]=s.useState([]),[V,pe]=s.useState(0),[ve,be]=s.useState(!1),[W,k]=s.useState(!1),J=()=>{const l=y.current,c=S.current;if(l&&c&&l.videoWidth&&l.videoHeight){c.width=l.videoWidth,c.height=l.videoHeight;const h=c.getContext("2d");w&&(h.scale(-1,1),h.translate(-c.width,0)),h.drawImage(l,0,0);const v={imageData:h.getImageData(0,0,c.width,c.height),id:P.current.length};P.current.push(v),a({title:"Template capturado",message:`Template ${v.id+1} salvo com sucesso!`,icon:"ğŸ“·"})}},G=()=>{const l=y.current,c=S.current;if(!l||!c||!l.videoWidth||!l.videoHeight)return;c.width=l.videoWidth,c.height=l.videoHeight;const h=c.getContext("2d");w&&(h.scale(-1,1),h.translate(-c.width,0)),h.drawImage(l,0,0);const C={image:c.toDataURL(),timestamp:Date.now()};U(v=>[C,...v].slice(0,5))};return s.useEffect(()=>{async function l(){try{n&&n.getTracks().forEach(E=>E.stop());const c=j?{video:{deviceId:{exact:j}}}:{video:{facingMode:{ideal:"environment"}}},h=await navigator.mediaDevices.getUserMedia(c);g(h),y.current&&(y.current.srcObject=h,y.current.style.transform=w?"scaleX(-1)":"none");const v=(await navigator.mediaDevices.enumerateDevices()).filter(E=>E.kind==="videoinput");q(v),!j&&v.length>0&&z(v[0].deviceId)}catch(c){a({title:"PermissÃ£o da cÃ¢mera",message:"Erro ao acessar a cÃ¢mera: "+c?.message,icon:"ğŸ“·"})}}t?l():n&&(n.getTracks().forEach(c=>c.stop()),g(null))},[t,j,w]),s.useEffect(()=>O(p),[p]),e.jsxs("div",{className:"min-h-screen bg-[var(--bg-solid)] font-sans antialiased relative overflow-hidden",children:[e.jsx("div",{"aria-hidden":!0,className:"ambient-noise"}),e.jsx("div",{"aria-hidden":!0,className:"fixed top-0 left-0 h-1.5 z-[60]",style:{width:`${Math.round(V*100)}%`,background:"linear-gradient(90deg, var(--sitio-yellow), var(--sitio-orange))",boxShadow:"0 4px 10px rgba(0,0,0,.25)"}}),u!=="game"&&e.jsxs(b.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:70,damping:20,delay:.2},className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between p-3 sm:p-4 glass",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b.div,{whileHover:{rotate:-5,scale:1.1},className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-br from-[var(--sitio-yellow)] to-[var(--sitio-orange)] grid place-items-center text-2xl shadow-lg",children:"ğŸ¡"}),e.jsx("h1",{className:"text-lg sm:text-xl font-black text-with-bg hidden sm:block",children:"SÃ­tio IA"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{f("vision"),i(!0)},className:"grid place-items-center w-12 h-12 rounded-full glass hover:glass-elevated text-[var(--fg)] transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400 shadow-md hover:scale-105","aria-label":"Abrir cÃ¢mera",children:e.jsx("span",{className:"text-lg",children:"ğŸ“·"})}),e.jsxs("button",{onClick:()=>k(!0),className:"tab-btn text-xs sm:text-sm","aria-label":"Sobre o projeto",children:[e.jsx("span",{className:"hidden sm:inline",children:"Quem Somos"}),e.jsx("span",{className:"sm:hidden text-lg",children:"â„¹ï¸"})]}),e.jsx(le,{theme:p,setTheme:x}),e.jsx(ce,{isOn:d,onToggle:()=>m(l=>!l)})]})]}),u==="home"&&e.jsx("main",{className:"snap-y relative z-10","aria-label":"InÃ­cio",children:e.jsx("section",{className:"snap-start min-h-[95vh] flex items-center justify-center relative","aria-labelledby":"hero-title",children:e.jsx("div",{className:"container py-8 w-full",children:e.jsxs("div",{className:"glass-elevated rounded-3xl p-8 sm:p-12 relative overflow-hidden text-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--sitio-yellow)]/10 via-[var(--sitio-green)]/5 to-[var(--sitio-blue)]/10 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(b.div,{className:"text-8xl mb-6",animate:{rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},children:"ğŸ¡"}),e.jsx("h2",{id:"hero-title",className:"text-5xl sm:text-7xl font-black tracking-tight mb-6",children:e.jsx("span",{className:"bg-gradient-to-r from-[var(--sitio-yellow)] via-[var(--sitio-orange)] to-[var(--sitio-red)] bg-clip-text text-transparent drop-shadow-lg",children:"SÃ­tio do Pica-Pau IA"})}),e.jsxs("p",{className:"text-xl text-[var(--fg-muted)] max-w-2xl mx-auto leading-relaxed mb-8 text-with-bg",children:["Uma aventura digital no mundo de ",e.jsx("strong",{children:"Monteiro Lobato"}),e.jsx("br",{}),e.jsx("span",{className:"text-lg opacity-80",children:"Jogo de memÃ³ria com mÃºsica e IA â€¢ AcessÃ­vel â€¢ Mobile-first"})]}),e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[e.jsx(b.button,{className:"group relative px-12 py-6 rounded-3xl bg-gradient-to-r from-[var(--sitio-green)] via-[#32CD32] to-[var(--sitio-green)] text-white font-black text-2xl hover:shadow-2xl hover:scale-110 transition-all duration-300 focus:outline-none focus-visible:ring-4 focus-visible:ring-green-400 animate-pulse shadow-lg",onClick:()=>f("game"),whileHover:{scale:1.1},whileTap:{scale:.98},children:e.jsxs("span",{className:"flex items-center gap-3",children:["ğŸ® ",e.jsx("span",{children:"JOGAR AGORA"}),e.jsx("span",{className:"group-hover:translate-x-2 transition-transform text-3xl",children:"ğŸš€"})]})}),e.jsx("div",{className:"mt-8 flex flex-wrap justify-center gap-3",children:[{label:"IA opcional",grad:"from-[var(--sitio-blue)] to-[var(--sitio-green)]",icon:"ğŸ¤–"},{label:"Trilha dinÃ¢mica",grad:"from-[var(--sitio-yellow)] to-[var(--sitio-orange)]",icon:"ğŸµ"},{label:"AcessÃ­vel",grad:"from-[var(--sitio-green)] to-[var(--sitio-yellow)]",icon:"â™¿"}].map((l,c)=>e.jsxs(b.span,{className:`px-4 py-2 rounded-full text-sm font-bold border border-white/30 bg-gradient-to-r ${l.grad} text-white shadow-lg`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{scale:1.07},whileTap:{scale:.98},children:[l.icon," ",l.label]},c))})]})]})]})})})}),u==="vision"&&e.jsx("div",{className:"relative z-10 container px-4 py-4",children:e.jsx("div",{className:"glass rounded-2xl p-4 mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[e.jsx("button",{className:`px-4 py-2.5 rounded-xl font-semibold transition-all ${t?"bg-[var(--danger)] text-white shadow-lg":"bg-[var(--accent)] text-[var(--sitio-brown)] hover:brightness-110"} focus:outline-none focus-visible:ring-2 ring-[var(--accent)]/50`,onClick:()=>i(!t),children:t?"ğŸ“· Desligar CÃ¢mera":"ğŸ“· Ligar CÃ¢mera"}),e.jsx("button",{className:"glass rounded-xl px-4 py-2.5 text-[var(--fg)] font-semibold hover:glass-elevated border border-[var(--border)] transition-all focus:outline-none focus-visible:ring-2 ring-[var(--accent)]/50",onClick:()=>H(l=>!l),children:w?"ğŸ”„ Desespelhar":"ğŸ”„ Espelhar"})]})})}),e.jsxs("div",{className:"container pb-12",children:[u==="game"&&e.jsx("div",{className:"memory-game stage-center",children:e.jsx(s.Suspense,{fallback:e.jsx("p",{children:"Carregando jogo..."}),children:e.jsx(ne,{musicPlaying:d,setMusicPlaying:m})})}),u==="vision"&&(t?e.jsxs("div",{className:"camera-view stage-center mx-auto max-w-3xl bg-white/30 backdrop-blur-md border border-[var(--theme-primary,#FFD700)]/30 rounded-2xl p-4 shadow-xl",children:[e.jsx("div",{style:{position:"relative"},children:e.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,width:480,height:360,style:{borderRadius:"1rem",boxShadow:"0 2px 12px rgba(0,0,0,0.25)",marginBottom:"0.5rem"}})}),e.jsx("canvas",{ref:S,width:480,height:360,style:{display:"block",margin:"0.5rem auto",borderRadius:"0.5rem"}}),e.jsxs("div",{style:{display:"flex",gap:".5rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:J,className:"small-btn",children:"Capturar Template"}),e.jsx("button",{onClick:G,className:"small-btn",children:"Tirar Foto"}),e.jsx("a",{href:"/sitio-do-pica-pau-ia/printable-cards.html",target:"_blank",rel:"noopener",className:"small-btn",children:"ğŸ“„ Cartas imprimÃ­veis"})]}),e.jsxs("p",{style:{fontWeight:700,textShadow:"0 2px 6px rgba(0,0,0,.35)"},children:["Cartas detectadas: ",I.length>0?I.join(", "):"Nenhuma"]})]}):e.jsx("div",{className:"camera-placeholder stage-center text-center mx-auto max-w-3xl bg-white/30 backdrop-blur-md border border-[var(--theme-primary,#FFD700)]/30 rounded-2xl p-10 shadow-xl",children:e.jsx("p",{className:"font-extrabold text-[var(--theme-text,#2F4F2F)]",children:'Clique em "Ligar CÃ¢mera" para comeÃ§ar!'})}))]}),e.jsx(K,{children:W&&e.jsxs(b.div,{className:"fixed inset-0 z-[75] grid place-items-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"about-title",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k(!1)}),e.jsxs(b.div,{className:"relative glass-elevated rounded-3xl max-w-2xl w-full p-6",initial:{y:30,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:30,opacity:0,scale:.98},transition:{type:"spring",stiffness:220,damping:22},children:[e.jsx("h3",{id:"about-title",className:"text-2xl font-black mb-2",children:"Quem somos"}),e.jsx("p",{className:"text-[var(--fg-muted)] mb-4",children:"SÃ­tio do Pica-Pau IA Ã© um jogo de memÃ³ria com mÃºsica procedural brasileira, visÃ£o computacional opcional e acessibilidade embutida."}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx("button",{className:"px-4 py-2 rounded-xl bg-gradient-to-r from-[var(--sitio-green)] to-[var(--sitio-blue)] text-white font-bold",onClick:()=>k(!1),children:"Fechar"})})]})]})}),u!=="game"&&e.jsxs("footer",{className:"relative mt-6 border-t border-[var(--theme-primary,#FFD700)]/30",children:[e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6 text-[var(--theme-text,#2F4F2F)] text-sm flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 font-extrabold text-[var(--theme-text,#2F4F2F)] text-with-bg",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[var(--theme-primary,#FFD700)] shadow-sm"}),"ğŸ‘©â€ğŸ¨ Malie â€¢ âš¡ Tauan â€¢ ğŸ§™â€â™€ï¸ Carla â€¢ ğŸ‘µ VovÃ³ Jane"]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("a",{className:"glass px-3 py-1.5 rounded-lg",href:"https://github.com/TauanRibeiro/sitio-do-pica-pau-ia",target:"_blank",rel:"noreferrer",children:"ğŸŒ RepositÃ³rio"})})]}),e.jsx("div",{className:"mx-auto max-w-6xl px-4 pb-6 text-center font-extrabold text-with-bg",children:"ğŸ« Projeto para Feira de CiÃªncias - ColÃ©gio Meta, Sobradinho-DF"})]})]})}X.createRoot(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(re,{children:e.jsx(de,{})})}));export{oe as u};
